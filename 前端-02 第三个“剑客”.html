<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>blog article</title>
    <link rel="stylesheet" href="css/辅助-01.css">
    <link rel="stylesheet" href="css/辅助-02.css">
</head>

<style>  
    .post {  
    margin-bottom: 20px;  
    padding: 10px;  
    border: 1px solid #ccc;  
    }  
    .post .title {  
    font-weight: bold;  
    }  
    .post .timestamp {  
    font-style: italic;  
    color: #999;  
    }  

    body{
        width:1500px;
        height:700px;
        background-image: url("777.jpg");
        background-size: cover;
        background-repeat: no-repeat;
    }
    
    @keyframes floattop{
    0%{
      transform:translate(0,0)rotate(0);
    }
    100%{
      transform:translate(0,-1000px)rotate(360deg);
    } 
  }

    div[class^="floattop"]{
      background-color: rgb(0,0,0,.1);
      position:absolute;
      animation-name:floattop ;
      animation-duration: 8s;
      animation-iteration-count: infinite;
    }

    .floattop1 {
      width:100px;
      height:100px;
      border-radius:10px;
      bottom:0;
      left:0;
      position:absolute;
      animation-delay: 0.5s;
    }

    .floattop2 {
      width:120px;
      height:120px;
      border-radius:20px;
      bottom:0;
      left: 300px;
      position:absolute;
      animation-delay: 2s;
    }

    .floattop3 {
      width:80px;
      height: 80px;
      border-radius:30px;
      bottom:0;
      left:255px;
      position:absolute;
      animation-delay: 3s;
    }

    .floattop4 {
      width:50px;
      height:50px;
      border-radius:5px;
      bottom:0;
      left:1300px;
      position:absolute;
      animation-delay: 2.5s;
    }

    .floattop5 {
      width:30px;
      height:30px;
      border-radius:10px;
      bottom:0;
      left:780px;
      position:absolute;
      animation-delay: 1.3s;
    }

    .floattop6 {
      width:70px;
      height:70px;
      border-radius:30px;
      bottom:0;
      left:400px;
      position:absolute;
      animation-delay: 6s;
    }

    .floattop7 {
      width:70px;
      height:70px;
      border-radius:30px;
      bottom:0;
      left:585px;
      position:absolute;
      animation-delay: 4s;
    }

    .floattop8 {
      width:120px;
      height:120px;
      border-radius:30px;
      bottom:0;
      left:1px;
      position:absolute;
      animation-delay: 4s;
    }

</style>  
<body background="777.jpg">
  <!--引入动画-->
  <div>
    <div class="floattop1"></div>
    <div class="floattop2"></div>
    <div class="floattop3"></div>
    <div class="floattop4"></div>
    <div class="floattop5"></div>
    <div class="floattop6"></div>
    <div class="floattop7"></div>
  </div>
  <!--基本框架-->
  <div clsaa="nav">
        <strong><span>我的博客系统</span></strong>
        <div class="spacer"></div>
        <strong><a href="blog_list.html">主页</a></strong>
        <a href=".html">写博客</a>
        <a href="#">注销</a>
        <strong><button id="addPostButton"> ＋ </button></strong>  
      </div>

      <div class="container">
        <div class="left">
            <div class="card">
                <img src="123123.jpg" alt="">
                <h3>微光</h3>
                <a href="https://github.com/sadme555/123/archive/refs/heads/main.zip" target="_blank">github地址</a><!--设置一个超链接，便于获取github地址-->
                <div class="counter">
                    <span>文章</span>
                    <span>分类</span>
                </div>
                <div class="counter">
                    <span>2</span>
                    <span>1</span>
                </div>
            </div>
        </div>
        <div class="right">
        <div class="blog-content">
            <h3>我的第一篇博客</h3>
            <div class="date">2023-10-03 18:05:09</div>
            <p>
              舜发于畎亩之中，傅说举于版筑之间，胶鬲举于鱼盐之中，管夷吾举于士，孙叔敖举于海，百里奚举于市。
              故天将降大任于是（斯）人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行拂乱其所为，所以动心忍性，曾益其所不能。
              人恒过,然后能改；困于心，衡于虑，而后作；征于色，发于声，而后喻。入则无法家拂士，出则无敌国外患者，国恒亡。
              然后知生于忧患，而死于安乐也。
            </p>      
            <!--点赞以及其他基本button的设定-->
            <buttun id="btndz" onclick="func_dz()" type="buttun">赞</buttun><span id="dzs">0</span>
            <button class="edit-button">
                编辑<input type="text" name="编辑" placeholder="">
            </button>  
            <button class="delete-button">
                删除
            </button>  
            <button class="delete-button">
                评论<input type="text" name="编辑" placeholder="">
            </button>
            
          <!--增加按钮-->
            <div id="postsContainer"></div>  
          <button class="button" id="addButton">增加</button>  
          <div id="contentArea"></div>  
          <!--具体“增加”操作-->
            <script>  
              document.getElementById("addPostButton").addEventListener("click", function() {  //获取一个名为“addPostButton”的对象，并使用 addEventListener 给这个对象添加一个点击，
                const postsContainer = document.getElementById("postsContainer");  //定义一个postsContainer常量并进行获取
                
                const post = document.createElement("div");  //定义一个post常量并获取一个div盒子，之后可以用来装新博客
                post.className = "post";  //为这个新对象创建一个类名“post”
                const title = document.createElement("div");  //同理
                title.className = "title";  //同理
                
                title.textContent = "............................";  //内部为title的文本内容
                post.appendChild(title);  
            
                const timestamp = document.createElement("div");  //同理
                timestamp.className = "timestamp";  //同理
                
                const currentDate = new Date();  //将新对象date储存在currentDate中
                timestamp.textContent = "创建时间: " + currentDate.toLocaleString();  //toLocaleString() 可将日期转化为js从而进行读取。
                  
                post.appendChild(timestamp);  //讲新建的timestamp对象储存在post中
                postsContainer.appendChild(post);  
            
              }); 
              
        var contentArea = document.getElementById('contentArea');  //获取元素contentArea储存在变量contentArea中
        var addButton = document.getElementById('addButton');  
        var originalContents = {};  //存储文章的原始内容
        var isEditing = {};  //是否正在编辑
        var lastEdited = {};  //最后的编辑时间
        var createdAt = {};  //创建时间
        var articleId = 0;  //成null，使文章成为一个块，独立出去
  //四个类似块
        addButton.addEventListener('click', function() {  //定义一个点击函数
            articleId++;  //+1后
            var content = document.createElement('div');  //内容：xxx
            content.classList.add('editable');  
            content.id = 'content-' + articleId;  
            content.innerText = '可在此重新编写';  
            contentArea.appendChild(content);  
  
            var editButton = document.createElement('button');  //编辑：创建对象，再储存
            editButton.classList.add('button');  //增加一个类名
            editButton.innerText = '编辑';  //用innertext属性在按钮上填写两个字“编辑”
            editButton.id = 'editButton-' + articleId;  //使用 id 属性为 editButton 元素设置一个唯一的ID
            contentArea.appendChild(editButton);  //使用 appendChild(editButton) 方法将 editButton 元素添加到之前获取的 contentArea 元素中
  
            var saveButton = document.createElement('button');  //保存：xxx
            saveButton.classList.add('button');  
            saveButton.innerText = '保存';  
            saveButton.id = 'saveButton-' + articleId;  
            saveButton.style.display = 'none';  
            contentArea.appendChild(saveButton);  
  
            var deleteButton = document.createElement('button');  //删除：xxx
            deleteButton.classList.add('button');  
            deleteButton.innerText = '删除';  
            deleteButton.id = 'deleteButton-' + articleId;  
            contentArea.appendChild(deleteButton);  
  
            originalContents[articleId] = content.innerText;  //将新创建的 content 元素的文本内容（innerText）存储在 originalContents 对象中，以文章ID（articleId）作为键。
            isEditing[articleId] = false;  //在 isEditing 对象中，以文章ID（articleId）作为键，将对应的值设置为 false。
            lastEdited[articleId] = new Date().toLocaleString();  //在 lastEdited 对象中，以文章ID（articleId）作为键，显示最后一次被编辑的时间
            createdAt[articleId] = new Date().toLocaleString();  //。。。。显示创建时间
  
            editButton.addEventListener('click', function() {  //设置一个点击按钮
                if (!isEditing[articleId]) {  //if语句检查是否在编辑状态
                    content.contentEditable = true;  //true，使其进行编辑
                    editButton.style.display = 'none';  //none，在编辑时隐藏编辑按钮。
                    saveButton.style.display = 'block';  //进行保存
                    isEditing[articleId] = true;  
                } else {  
                    content.contentEditable = false;  
                    editButton.style.display = 'block';  //显示编辑按钮，使其返回编辑
                    saveButton.style.display = 'none';  
                    isEditing[articleId] = false;  
                }  
            });  
  
            saveButton.addEventListener('click', function() {  //添加点击按钮
                lastEdited[articleId] = new Date().toLocaleString();  //同理，时间
                alert('文章已更新，最后编辑时间为：' + lastEdited[articleId]);  //使用 alert 函数显示一个弹出框并显示创建时间
            });  
  
            deleteButton.addEventListener('click', function() {  
                content.remove();  
                editButton.remove();  
                saveButton.remove();  
                deleteButton.remove();  
                alert('文章已删除，创建时间为：' + createdAt[articleId]);  //同理
            });  
        });  
</script>
            <!--实现点赞数的累计-->
            <script>
              var dzcs=0;//定义一个无作用域变量
              var dzcs=document.getElementById("dzs").innerHTML;//获得指定的dzs对象
            
              function func_dz(){//引用函数
                    dzcs++;//实现++
                    document.getElementById("dzs").innerHTML=dzcs;
              
              }
            </script>
          </div>
        </div>
    </div>
</body>
</html>

